<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>WebAssembly Demo</title>
</head>

<body>
  <h1>WebAssembly Demo</h1>
  <script>
    // Load WASM
    WebAssembly.instantiateStreaming(fetch('/program.wasm'))
      .then(wasm => {
        console.log('WASM Ready.');

        // Make the wasm object accessible
        window.wasm = wasm

        // Log out all exports
        console.log('WebAssembly Object:');
        console.log(WebAssembly);

        // Exports
        console.log('All Exports:');
        console.log(wasm.instance.exports);

        // Imports:
        console.log('All Imports:');
        console.log(WebAssembly.Module.exports(wasm.module));

        // Execute compiled function
        // console.log('instance.exports.getDoubleNumber(80):');
        // console.log(wasm.instance.exports.getDoubleNumber(80));

      })
  </script>
</body>

</html>